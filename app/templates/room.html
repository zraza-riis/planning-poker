{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h1>You have joined room {{ room.name }}</h1>
    <h4>Invite your team members with the following link: {{ room.join_link }}</h4>
    <h5>Connected Users: {{ room.players }}</h5>

    <script type="text/javascript">
        var socket = io.connect('http://' + document.domain + ':' + location.port);
    
        socket.on('connect', function() {
            console.log('Connected to server');
        });
    
        socket.on('disconnect', function() {
            console.log('Disconnected from server');
        });
    
        // Handle the 'new_room' event to update active prompts
        socket.on('new_room', function(data) {
            console.log('New room created:', data.room_uuid);
    
            // You can update the prompts using JavaScript on the client side
            // For example, you can make an AJAX request to fetch and update prompts
            // without a full page reload.
        });
    </script>
    
</div>
{% endblock %}